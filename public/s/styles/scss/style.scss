/**
* Stylesheet for the client
*/

// Import global settings
@import "settings";
@import "icons";

// Import components from lace
@import "../lace/base";
@import "../lace/animations";
@import "../lace/alertbar";
@import "../lace/modal";
@import "../lace/popover";
@import "../lace/switch";
@import "../lace/button";
@import "../lace/entry";
@import "../lace/multientry";
@import "../lace/flexbox";
@import "../lace/tooltip";
@import "../lace/progressbar";
@import "../lace/linked";
@import "../lace/filter";
@import "../lace/dropshadow";
@import "../lace/grid";
@import "../lace/assets";

@import "components/listgridview";
@import "components/fab";
@import "components/appbar";
@import "components/searchbar";
@import "components/profile";
@import "components/roomcard";
@import "components/badge";

html, body { height: 100%; }

body {
    @include filter((
        role: $roles,
        webview: (),
        embed: $embeds,
        mode: $modes,
        media: $medialist,
        state: $states
    ), ( role )); /* show hide elements based on filter */

    @include flexbox;
    @include flex-direction(row);
    @include flex-wrap(nowrap);
    @include align-items(flex-start);

    word-wrap: break-word; /* wrap long lines to avoid horizontal scrollbar */
    overflow: hidden; /* fix overflow in firefox */
}

.column {
    @include flex-grow(1);

    height: 100%;
}

.column-left {
    min-width: $width-sidebar;
    max-width: $width-sidebar;
    width: $width-sidebar;
}

.sidebar {
    /*
    * Text becomes too bold on dark background on Mac OS X
    * Antialiased font looks crispier
    */
    @include font-smoothing(antialiased);
    @include transition;

    position: absolute;
    z-index: 700;
    background-color: $dark-color;
    color: $light-color;
    box-shadow: 0 0 0 transparent;
    will-change: transform;

    &-content {
        max-height: 100%;
        overflow: auto;
        -webkit-overflow-scrolling : touch; /* momentum scrolling in webkit */
    }

    &-block { border-bottom: 1px solid rgba(0,0,0,0.1); }

    &-left {
        @include transform(translateX(-100%));

        .view-sidebar-left & {
            @include transform(translateX(0));

            box-shadow: 10px 0 20px rgba(0,0,0,0.19);
        }

        @media #{$screenxxx} {
            &, .view-sidebar-left & {
                @include transform(translateX(0));

                position: relative;
                z-index: 100;
                box-shadow: 3px 0 6px rgba(0,0,0,0.16);
            }
        }
    }

    &-right {
        @include transform(translateX(100%));

        .view-sidebar-right & {
            @include transform(translateX(0));

            box-shadow: 10px 0 20px rgba(0,0,0,0.19);
        }

        @media #{$screenxxx} {
            &, .view-sidebar-right & {
                @include transform(translateX(0));

                position: relative;
                z-index: 100;
                box-shadow: 3px 0 6px rgba(0,0,0,0.16);
            }
        }
    }

    &-overlay {
        @include transition;

        position: fixed;
        z-index: 600;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgb(0,0,0);
        opacity: 0;
        pointer-events: none;

        .view-sidebar-left &, .view-sidebar-right & {
            opacity: .7;
            pointer-events: auto;
        }

        @media #{$screenxxx} { display: none; }
    }
}

.main {
    @include flexbox;
    @include flex-direction(column);
    @include flex-wrap(nowrap);
    @include align-items(flex-start);
}

.main-content {
    @include flex-grow(1);

    width: 100%;
    height: 100%;
    overflow: auto;
    padding: .5em 0;
    background-color: darken($light-color, 5%);

    .listgrid-content {
        border-left-width: 0;
        border-right-width: 0;
        border-radius: 0;
    }

    @media #{$screenxx} {
        padding: 2em;

        .listgrid-content {
            border-left-width: 1px;
            border-right-width: 1px;
            border-radius: $roundness;
        }
    }

    &:after {
        content: "";
        display: block;
        height: 6em;
    }
}
