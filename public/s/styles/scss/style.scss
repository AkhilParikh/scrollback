/**
* Stylesheet for the client
*/

// Import global settings
@import "settings";

// Import components from lace
@import "../lace/base";
@import "../lace/animations";
@import "../lace/alertbar";
@import "../lace/modal";
@import "../lace/popover";
@import "../lace/switch";
@import "../lace/button";
@import "../lace/entry";
@import "../lace/multientry";
@import "../lace/flexbox";
@import "../lace/tooltip";
@import "../lace/progressbar";
@import "../lace/linked";
@import "../lace/filter";
@import "../lace/dropshadow";
@import "../lace/grid";
@import "../lace/icons";

@import "components/listgridview";
@import "components/fab";
@import "components/appbar";
@import "components/searchbar";
@import "components/profile";
@import "components/card";
@import "components/badge";

html, body { height: 100%; }

body {
    @include filter((
        role: $roles,
        webview: (),
        embed: $embeds,
        mode: $modes,
        media: $medialist,
        state: $states
    ), ( role )); /* show hide elements based on filter */

    @include flexbox;
    @include flex-direction(row);
    @include flex-wrap(nowrap);
    @include align-items(flex-start);

    word-wrap: break-word; /* wrap long lines to avoid horizontal scrollbar */
    overflow: hidden; /* fix overflow in firefox */
}

.column {
    @include flex-grow(1);

    height: 100%;
}

.sidebar {
    @include transition;

    position: absolute;
    top: 0;
    min-width: $width-sidebar;
    max-width: $width-sidebar;
    width: $width-sidebar;
    height: 100%;
    z-index: 700;
    box-shadow: 0 0 0 transparent;
    will-change: transform;

    &-content {
        max-height: 100%;
        overflow: auto;
        -webkit-overflow-scrolling : touch; /* momentum scrolling in webkit */
    }

    &-block { border-bottom: 1px solid rgba(0,0,0,0.1); }

    &-left {
        /*
        * Text becomes too bold on dark background on Mac OS X
        * Antialiased font looks crispier
        */
        @include font-smoothing(antialiased);
        @include transform(translateX(-100%));

        left: 0;
        background-color: $dark-color;
        color: $light-color;

        .view-sidebar-left & {
            @include transform(translateX(0));

            box-shadow: 10px 0 20px rgba(0,0,0,0.19);
        }

        @media #{$screenxxx} {
            &, .view-sidebar-left & {
                @include transform(translateX(0));

                position: relative;
                left: auto;
                top: auto;
                z-index: 100;
                box-shadow: 3px 0 6px rgba(0,0,0,0.16);
            }
        }
    }

    &-right {
        @include transform(translateX(100%));

        right: 0;
        background-color: $light-color;
        color: $dark-color;

        .view-sidebar-right & {
            @include transform(translateX(0));

            box-shadow: -10px 0 20px rgba(0,0,0,0.19);
        }
    }

    &-overlay {
        @include transition;

        position: fixed;
        z-index: 600;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.7);
        opacity: 0;
        pointer-events: none;

        .view-sidebar-left &, .view-sidebar-right & {
            opacity: 1;
            pointer-events: auto;
        }

        @media #{$screenxxx} {
            .view-sidebar-left & { display: none; }
        }
    }

    @media #{$screenxxx} {
        .list-view { font-size: .9em; }
    }

    .list-content {
        background-color: transparent;
        box-shadow: none;
        border-left-width: 0;
        border-right-width: 0;
        border-radius: 0;
    }

    .list-header { opacity: .5; }

    .card-header-icon-more { display: none; }
}

.appbar {
    @media #{$screenxxx} {
        .action-sidebar-left-open { display: none; }

        .appbar-title { margin-left: 1em; }
    }
}

.people-list-item {
    padding: .5em;

    &-avatar {
        float: left;
        display: block;
        margin: .5em;
        height: $bar-height - 1em;
        width: $bar-height - 1em;
        border-radius: 50%;
    }


    &-nick {
        font-weight: 700;
        line-height: $bar-height;
        margin: 0 .5em;
    }
}

.main {
    @include flexbox;
    @include flex-direction(column);
    @include flex-wrap(nowrap);
    @include align-items(flex-start);
}

.main-content {
    @include flex-grow(1);

    width: 100%;
    height: 100%;
    overflow: auto;
    padding: .5em 0;
    background-color: darken($light-color, 5%);

    @media #{$screenxx} { padding: 2em; }

    &:after {
        content: "";
        display: block;
        height: 6em;
    }
}
