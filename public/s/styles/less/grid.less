/* column based grid  */
@columns: 12;
@gutter: 1em;

.clearfix() {
    *zoom: 1;

    &:before, &:after {
        content: "";
        display: table;
    }

    &:after { clear: both; }
}

.row {
    .clearfix;

    margin-right: @gutter * -1;
    margin-left: @gutter * -1;
}

[class^="col-"] {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    padding-right: @gutter;
    padding-left: @gutter;
}

@media screen and (min-width: 768px) {
    .row {
        @supports (display: flex) {
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
        }

        .-(@i: 1) when (@i =< @columns) {
            .col-@{i} { width: (@i * 100% / @columns); }

            .-((@i + 1));
        } .-;
    }

    [class^="col-"] { float: left; }
}

/* thumb based grid */
@thumbsize: 5em;

.thumbs {
    .clearfix;

    margin-right: @gutter * -1;
    margin-left: @gutter * -1;

    .-(@i: 1) when (@i =< @columns) {
        .thumb-@{i} {
            display: inline-block;
            width: (@i * @thumbsize);
            padding-right: @gutter;
            padding-left: @gutter;
        }

        .-((@i + 1));
    } .-;
}

/* floating contents */
.content-row {
    .clearfix;

    padding: @gutter 0;

    .pull-right {
        float: right;
        margin-left: @gutter * 2;
    }

    .pull-left {
        float: left;
        margin-right: @gutter * 2;
    }

    @media only screen and (max-width: 640px) {
        [class^="pull-"] {
            float: none;
            display: block;
            margin: 0;
        }
    }
}
